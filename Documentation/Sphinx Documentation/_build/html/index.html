
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to DataTokenAlpha! &#8212; DataTokenAlpha  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-datatokenalpha">
<h1>Welcome to DataTokenAlpha!<a class="headerlink" href="#welcome-to-datatokenalpha" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>This is the documentation of DataTokenAlpha.
DatatokenAlpha is my final year project.</p>
</div>
<div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>This project aims to develop a scheme to allow peer-to-peer (P2P) cellular data sharing and to
construct a prototype Ethereum smart contract with respect to the scheme using Solidity which is
a blockchain oriented programming language. Smart contract DataToken-Alpha (latest version 0.2.2)
as the scheme implementation has been under development. Hence, DataToken, a token of Ether
(Intrinsic Cryptocurrency of Ethereum) is created for data service transfer recording.The uniqueness
of such implementation is that all the information held by the contract is protected by Ethereum
network based on blockchain technology from computational hacking.</p>
<p>The implementation is started from analyzing behaviors that a ledger system is expected to have.
By design, the contract is firstly able to offer and manage token like a bank in real world
and secondly, it is capable to work as a cellular data service trade centre where users of such
contract are able to transfer Internet access in terms of cellular data usage and token.
Solidity code thud is used to implement necessary features with respect to the behaviors mentioned above.
Finally, a prototype of DataToken-Alpha for autonomous data trading is ready for further polish
in the next semester when this project will focus on upgrading DataToken-Alpha to be a practically
deployable smart contract as close as possible.</p>
</div>
<div class="section" id="contract-variables">
<h1>Contract Variables<a class="headerlink" href="#contract-variables" title="Permalink to this headline">¶</a></h1>
<p>Contracts variables are declared at the beginning of solidity contract body.
In this section, variable types and availability are indicated by source code definition
below each mentioned variables.</p>
<div class="section" id="owner">
<h2>owner<a class="headerlink" href="#owner" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">address</span> <span class="n">owner</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="tokenname">
<h2>tokenName<a class="headerlink" href="#tokenname" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="n">public</span> <span class="n">tokenName</span> <span class="o">=</span> <span class="s2">&quot;dataToken&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="decimals">
<h2>decimals<a class="headerlink" href="#decimals" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint</span> <span class="n">public</span> <span class="n">decimals</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="initialsupply">
<h2>initialSupply<a class="headerlink" href="#initialsupply" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint256</span> <span class="n">initialSupply</span> <span class="o">=</span> <span class="mi">666</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="totalsupply">
<h2>totalSupply<a class="headerlink" href="#totalsupply" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint256</span> <span class="n">totalSupply</span> <span class="o">=</span> <span class="n">initialSupply</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">decimals</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="role">
<h2>role<a class="headerlink" href="#role" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="n">role</span> <span class="p">{</span><span class="n">ISRECEIVER</span><span class="p">,</span> <span class="n">ISPROVIDER</span><span class="p">,</span> <span class="n">UNDERSERVICE</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="balance">
<h2>balance<a class="headerlink" href="#balance" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">uint256</span><span class="p">)</span> <span class="n">public</span> <span class="n">balance</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="identification">
<h2>identification<a class="headerlink" href="#identification" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">role</span><span class="p">)</span> <span class="n">public</span> <span class="n">identification</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="providerof">
<h2>providerOf<a class="headerlink" href="#providerof" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">address</span><span class="p">)</span> <span class="n">public</span> <span class="n">providerOf</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="priceof">
<h2>priceOf<a class="headerlink" href="#priceof" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">uint256</span><span class="p">)</span> <span class="n">public</span> <span class="n">priceOf</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="usageof">
<h2>usageOf<a class="headerlink" href="#usageof" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">uint256</span><span class="p">))</span> <span class="n">public</span> <span class="n">usageOf</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="passwd">
<h2>passwd<a class="headerlink" href="#passwd" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapping</span> <span class="p">(</span><span class="n">address</span> <span class="o">=&gt;</span> <span class="n">string</span><span class="p">)</span> <span class="n">internal</span> <span class="n">passwd</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="event">
<h1>Event<a class="headerlink" href="#event" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="internal-functions">
<h1>Internal Functions<a class="headerlink" href="#internal-functions" title="Permalink to this headline">¶</a></h1>
<p>Internal functions are invisible to API and external calls from other contracts.</p>
<div class="section" id="transfer">
<h2>_transfer<a class="headerlink" href="#transfer" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">_transfer</span><span class="p">(</span><span class="n">address</span> <span class="n">_from</span><span class="p">,</span> <span class="n">address</span> <span class="n">_to</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_value</span><span class="p">)</span>
</pre></div>
</div>
<p>A call of this function is able to transfer _value amount of token
from Ethereum address _from to address _to. The function has the
highest authority in a transfer operation.</p>
<p>It is defined as internal
for safety concern that API (web3 implemented by ethereum core team)
cannot call this function directly.</p>
<p>This function is the core of function transfer()</p>
</div>
<div class="section" id="sur">
<h2>_sur<a class="headerlink" href="#sur" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">_sur</span><span class="p">(</span><span class="n">address</span> <span class="n">_user</span><span class="p">,</span> <span class="n">role</span> <span class="n">_oldrole</span><span class="p">,</span> <span class="n">role</span> <span class="n">_newrole</span><span class="p">)</span>
</pre></div>
</div>
<p>sur represents switch user role. Public functions that can switch
user roles all depend on this internal function.</p>
</div>
<div class="section" id="affordabledata">
<h2>_affordableData<a class="headerlink" href="#affordabledata" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">_affordableData</span> <span class="p">(</span><span class="n">address</span> <span class="n">_wallet</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_price</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="tolerance">
<h2>_tolerance<a class="headerlink" href="#tolerance" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">_tolerance</span> <span class="p">(</span><span class="n">uint256</span> <span class="n">_range</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_usageLimit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="cashier">
<h2>_cashier<a class="headerlink" href="#cashier" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">_cashier</span> <span class="p">(</span><span class="n">address</span> <span class="n">_payer</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_volume</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="public-functions">
<h1>Public Functions<a class="headerlink" href="#public-functions" title="Permalink to this headline">¶</a></h1>
<p>Public functions can be invoked in other contracts and is callable by API.
DataTokenAlpha
————–</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">DataTokenAlpha</span><span class="p">()</span> <span class="n">public</span> <span class="p">{</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">sender</span><span class="p">;</span>
    <span class="n">balance</span><span class="p">[</span><span class="n">owner</span><span class="p">]</span> <span class="o">=</span> <span class="n">totalSupply</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is the constructor function of solidity contract DataTokenAlpha.</p>
<div class="section" id="id1">
<h2>transfer<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">transfer</span><span class="p">(</span><span class="n">address</span> <span class="n">_to</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="buytoken">
<h2>buyToken<a class="headerlink" href="#buytoken" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">buyToken</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="suprovider">
<h2>suProvider<a class="headerlink" href="#suprovider" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">surProvider</span> <span class="p">(</span><span class="n">uint256</span> <span class="n">_price</span><span class="p">,</span> <span class="n">string</span> <span class="n">_passwd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="sureceiver">
<h2>suReceiver<a class="headerlink" href="#sureceiver" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">surReceiver</span> <span class="p">(</span><span class="n">uint</span> <span class="n">_numberOfUsers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="link">
<h2>link<a class="headerlink" href="#link" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">link</span> <span class="p">(</span><span class="n">address</span> <span class="n">_provider</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="usagerecord">
<h2>usageRecord<a class="headerlink" href="#usagerecord" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">usageRecord</span> <span class="p">(</span><span class="n">address</span> <span class="n">_theOtherSide</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_usage</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="payandleave">
<h2>payAndLeave<a class="headerlink" href="#payandleave" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">payAndLeave</span> <span class="p">(</span><span class="n">uint256</span> <span class="n">_range</span><span class="p">,</span> <span class="n">uint256</span> <span class="n">_usageLimit</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to DataTokenAlpha!</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#contract-variables">Contract Variables</a><ul>
<li><a class="reference internal" href="#owner">owner</a></li>
<li><a class="reference internal" href="#tokenname">tokenName</a></li>
<li><a class="reference internal" href="#decimals">decimals</a></li>
<li><a class="reference internal" href="#initialsupply">initialSupply</a></li>
<li><a class="reference internal" href="#totalsupply">totalSupply</a></li>
<li><a class="reference internal" href="#role">role</a></li>
<li><a class="reference internal" href="#balance">balance</a></li>
<li><a class="reference internal" href="#identification">identification</a></li>
<li><a class="reference internal" href="#providerof">providerOf</a></li>
<li><a class="reference internal" href="#priceof">priceOf</a></li>
<li><a class="reference internal" href="#usageof">usageOf</a></li>
<li><a class="reference internal" href="#passwd">passwd</a></li>
</ul>
</li>
<li><a class="reference internal" href="#event">Event</a></li>
<li><a class="reference internal" href="#internal-functions">Internal Functions</a><ul>
<li><a class="reference internal" href="#transfer">_transfer</a></li>
<li><a class="reference internal" href="#sur">_sur</a></li>
<li><a class="reference internal" href="#affordabledata">_affordableData</a></li>
<li><a class="reference internal" href="#tolerance">_tolerance</a></li>
<li><a class="reference internal" href="#cashier">_cashier</a></li>
</ul>
</li>
<li><a class="reference internal" href="#public-functions">Public Functions</a><ul>
<li><a class="reference internal" href="#id1">transfer</a></li>
<li><a class="reference internal" href="#buytoken">buyToken</a></li>
<li><a class="reference internal" href="#suprovider">suProvider</a></li>
<li><a class="reference internal" href="#sureceiver">suReceiver</a></li>
<li><a class="reference internal" href="#link">link</a></li>
<li><a class="reference internal" href="#usagerecord">usageRecord</a></li>
<li><a class="reference internal" href="#payandleave">payAndLeave</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Zhuoqun Liu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>